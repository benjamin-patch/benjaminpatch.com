!function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this,r;return t(this).one("bsTransitionEnd",(function(){n=!0})),setTimeout((function(){n||t(i).trigger(t.support.transition.end)}),e),this},t((function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})}))}(jQuery),function(t){"use strict";function e(){this._activeZoom=this._initialScrollPosition=this._initialTouchPosition=this._touchMoveListener=null,this._$document=t(document),this._$window=t(window),this._$body=t(document.body),this._boundClick=t.proxy(this._clickHandler,this)}function n(e){this._fullHeight=this._fullWidth=this._overlay=this._targetImageWrap=null,this._targetImage=e,this._$body=t(document.body)}e.prototype.listen=function(){this._$body.on("click",'[data-action="zoom"]',t.proxy(this._zoom,this))},e.prototype._zoom=function(e){var i=e.target;if(i&&"IMG"==i.tagName&&!this._$body.hasClass("zoom-overlay-open"))return e.metaKey||e.ctrlKey?window.open(e.target.getAttribute("data-original")||e.target.src,"_blank"):void(i.width>=t(window).width()-n.OFFSET||(this._activeZoomClose(!0),this._activeZoom=new n(i),this._activeZoom.zoomImage(),this._$window.on("scroll.zoom",t.proxy(this._scrollHandler,this)),this._$document.on("keyup.zoom",t.proxy(this._keyHandler,this)),this._$document.on("touchstart.zoom",t.proxy(this._touchStart,this)),document.addEventListener?document.addEventListener("click",this._boundClick,!0):document.attachEvent("onclick",this._boundClick,!0),"bubbles"in e?e.bubbles&&e.stopPropagation():e.cancelBubble=!0))},e.prototype._activeZoomClose=function(t){this._activeZoom&&(t?this._activeZoom.dispose():this._activeZoom.close(),this._$window.off(".zoom"),this._$document.off(".zoom"),document.removeEventListener("click",this._boundClick,!0),this._activeZoom=null)},e.prototype._scrollHandler=function(e){null===this._initialScrollPosition&&(this._initialScrollPosition=t(window).scrollTop());var n=this._initialScrollPosition-t(window).scrollTop();Math.abs(n)>=40&&this._activeZoomClose()},e.prototype._keyHandler=function(t){27==t.keyCode&&this._activeZoomClose()},e.prototype._clickHandler=function(t){t.preventDefault?t.preventDefault():event.returnValue=!1,"bubbles"in t?t.bubbles&&t.stopPropagation():t.cancelBubble=!0,this._activeZoomClose()},e.prototype._touchStart=function(e){this._initialTouchPosition=e.touches[0].pageY,t(e.target).on("touchmove.zoom",t.proxy(this._touchMove,this))},e.prototype._touchMove=function(e){Math.abs(e.touches[0].pageY-this._initialTouchPosition)>10&&(this._activeZoomClose(),t(e.target).off("touchmove.zoom"))},n.OFFSET=80,n._MAX_WIDTH=2560,n._MAX_HEIGHT=4096,n.prototype.zoomImage=function(){var e=document.createElement("img");e.onload=t.proxy((function(){this._fullHeight=Number(e.height),this._fullWidth=Number(e.width),this._zoomOriginal()}),this),e.src=this._targetImage.src},n.prototype._zoomOriginal=function(){this._targetImageWrap=document.createElement("div"),this._targetImageWrap.className="zoom-img-wrap",this._targetImage.parentNode.insertBefore(this._targetImageWrap,this._targetImage),this._targetImageWrap.appendChild(this._targetImage),t(this._targetImage).addClass("zoom-img").attr("data-action","zoom-out"),this._overlay=document.createElement("div"),this._overlay.className="zoom-overlay",document.body.appendChild(this._overlay),this._calculateZoom(),this._triggerAnimation()},n.prototype._calculateZoom=function(){this._targetImage.offsetWidth;var e=this._fullWidth,i=this._fullHeight,r=(t(window).scrollTop(),e/this._targetImage.width),o=t(window).height()-n.OFFSET,a=t(window).width()-n.OFFSET,s=e/i,l=a/o;this._imgScaleFactor=a>e&&o>i?r:l>s?o/i*r:a/e*r},n.prototype._triggerAnimation=function(){this._targetImage.offsetWidth;var e=t(this._targetImage).offset(),n,i=t(window).scrollTop()+t(window).height()/2,r=t(window).width()/2,o=e.top+this._targetImage.height/2,a=e.left+this._targetImage.width/2;this._translateY=i-o,this._translateX=r-a;var s="scale("+this._imgScaleFactor+")",l="translate("+this._translateX+"px, "+this._translateY+"px)";t.support.transition&&(l+=" translateZ(0)"),t(this._targetImage).css({"-webkit-transform":s,"-ms-transform":s,transform:s}),t(this._targetImageWrap).css({"-webkit-transform":l,"-ms-transform":l,transform:l}),this._$body.addClass("zoom-overlay-open")},n.prototype.close=function(){return this._$body.removeClass("zoom-overlay-open").addClass("zoom-overlay-transitioning"),t(this._targetImage).css({"-webkit-transform":"","-ms-transform":"",transform:""}),t(this._targetImageWrap).css({"-webkit-transform":"","-ms-transform":"",transform:""}),t.support.transition?void t(this._targetImage).one(t.support.transition.end,t.proxy(this.dispose,this)).emulateTransitionEnd(300):this.dispose()},n.prototype.dispose=function(){this._targetImageWrap&&this._targetImageWrap.parentNode&&(t(this._targetImage).removeClass("zoom-img").attr("data-action","zoom"),this._targetImageWrap.parentNode.replaceChild(this._targetImage,this._targetImageWrap),this._overlay.parentNode.removeChild(this._overlay),this._$body.removeClass("zoom-overlay-transitioning"))},t((function(){(new e).listen()}))}(jQuery),function(t,e){"function"==typeof define&&define.amd?define([],(function(){return e()})):"object"==typeof exports?module.exports=e():t.Macy=e()}(this,(function(){"use strict";var t=function(e){var n,i={},r=1,o=function(e){for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&("[object Object]"===Object.prototype.toString.call(e[n])?i[n]=t(i[n],e[n]):i[n]=e[n])};for(o(e),r=1;r<arguments.length;r++){var a=arguments[r];o(a)}return i},e={VERSION:"1.1.2",settings:{}},n,i,r={columns:3,margin:2,trueOrder:!0,waitForImages:!1},o={options:{}},a=function(){var t,e=document.body.clientWidth;for(var n in o.options.breakAt)if(n>e){t=o.options.breakAt[n];break}return t||(t=o.options.columns),t},s=function(t){t=void 0===t||t;var e,n=a();return t?1===n?"100%":"calc("+100/n+"% - "+(e=(n-1)*o.options.margin/n)+"px)":100/n},l=function(){var t=s();C(o.elements,(function(e,n){n.style.width=t,n.style.position="absolute"}))},u=function(t){var e,n,i=a(),r=0;return 1===++t?0:(e=(o.options.margin-(i-1)*o.options.margin/i)*(t-1),n="calc("+(r+=s(!1)*(t-1))+"% + "+e+"px)")},d=function(t,e,n){var i,r=0;if(0===t)return 0;for(var a=0;t>a;a++)i=parseInt(m(o.elements[n[a]],"height").replace("px",""),10),r+=isNaN(i)?0:i+o.options.margin;return r},c=function(t){var e=0,n=[],i=[],r=[];C(o.elements,(function(r){++e>t&&(e=1,n.push(i),i=[]),i.push(r)})),n.push(i);for(var a=0,s=n.length;s>a;a++)for(var l=n[a],u=0,d=l.length;d>u;u++)r[u]=void 0===r[u]?[]:r[u],r[u].push(l[u]);o.rows=r,p(!1)},h=function(t){for(var e=o.elements,n=[],i=[],r=0;t>r;r++)n[r]=[];for(var a=0;a<e.length;a++)i.push(a);for(var s=0,l=i.length;l>s;s++){var u=f(n);n[u]=void 0===n[u]?[]:n[u],n[u].push(i[s])}o.rows=n,p(!0)},p=function(t){t=t||!1;for(var e=o.elements,n=o.rows,i=0,r=n.length;r>i;i++)for(var a=t?w(n[i]):n[i],s=0,l=a.length;l>s;s++){var c,h;c=u(i),h=d(s,i,a,t),e[a[s]].style.top=h+"px",e[a[s]].style.left=c}},f=function(t){for(var e,n,i,r,a=0,s=0,l=t.length;l>s;s++){for(var u=0;u<t[s].length;u++)r=parseInt(m(o.elements[t[s][u]],"height").replace("px",""),10),a+=isNaN(r)?0:r;i=n,n=void 0===n?a:n>a?a:n,(void 0===i||i>n)&&(e=s),a=0}return e},m=function(t,e){return window.getComputedStyle(t,null).getPropertyValue(e)},v=function(){for(var t=o.rows,e=0,n=0,i=0,r=t.length;r>i;i++){for(var a=0;a<t[i].length;a++)n+=parseInt(m(o.elements[t[i][a]],"height").replace("px",""),10),n+=0!==a?o.options.margin:0;e=n>e?n:e,n=0}return e},g=function(){var t=a();return 1===t?(o.container.style.height="auto",void C(o.elements,(function(t,e){e.removeAttribute("style")}))):(l(),o.elements=o.container.children,o.options.trueOrder?(c(t),void y()):(h(t),void y()))},y=function(){o.container.style.height=v()+"px"},w=function(t){for(var e=t,n=e.length-1,i=0;n>i;i++)for(var r=0;n>r;r++)if(e[r]>e[r+1]){var o=e[r];e[r]=e[r+1],e[r+1]=o}return e},b=function(t){return document.querySelector(t)},_=function(t){for(var e=document.querySelectorAll(t),n=[],i=e.length-1;i>=0;i--)null!==e[i].offsetParent&&n.unshift(e[i]);return n},C=function(t,e){for(var n=0,i=t.length;i>n;n++)e(n,t[n])},$=function(t,e){e=e||!1,"function"==typeof(t=t||!1)&&t(),i>=n&&"function"==typeof e&&e()},k=function(){C(o.container.children,(function(t,e){e.removeAttribute("style")})),o.container.removeAttribute("style"),window.removeEventListener("resize",g)},x=function(t,e){var r=_("img");n=r.length-1,i=0,C(r,(function(r,o){return o.complete?(i++,void $(t,e)):(o.addEventListener("load",(function(){i++,$(t,e)})),void o.addEventListener("error",(function(){n--,$(t,e)})))}))};return e.init=function(e){return e.container&&(o.container=b(e.container),o.container)?(delete e.container,o.options=t(r,e),window.addEventListener("resize",g),o.container.style.position="relative",o.elements=o.container.children,o.options.waitForImages?void x(null,(function(){g()})):(g(),void x((function(){g()})))):void 0},e.recalculate=g,e.onImageLoad=x,e.remove=k,e})),function(t){"use strict";t.fn.fitVids=function(e){var n={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],r=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",o=document.createElement("div");o.innerHTML='<p>x</p><style id="fit-vids-style">'+r+"</style>",i.appendChild(o.childNodes[1])}return e&&t.extend(n,e),this.each((function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];n.customSelector&&e.push(n.customSelector);var i=".fitvidsignore";n.ignore&&(i=i+", "+n.ignore);var r=t(this).find(e.join(","));(r=(r=r.not("object object")).not(i)).each((function(){var e=t(this);if(!(e.parents(i).length>0||"embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){e.css("height")||e.css("width")||!isNaN(e.attr("height"))&&!isNaN(e.attr("width"))||(e.attr("height",9),e.attr("width",16));var n,r,o=("object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height())/(isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10));if(!e.attr("name")){var a="fitvid"+t.fn.fitVids._count;e.attr("name",a),t.fn.fitVids._count++}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*o+"%"),e.removeAttr("height").removeAttr("width")}}))}))},t.fn.fitVids._count=0}(window.jQuery||window.Zepto),function(t,e,n,i){var r="ontouchstart"in e,o=r?"touchstart":"mousedown",a=r?"touchmove":"mousemove",s=r?"touchend":"mouseup",l=r?"touchcancel":"mouseup",u=function(t){var e=t/3600,n=Math.floor(e),i=t%3600/60,r=Math.floor(i),o=Math.ceil(t%3600%60);return o>59&&(o=0,r=Math.ceil(i)),r>59&&(r=0,n=Math.ceil(e)),(0==n?"":n>0&&n.toString().length<2?"0"+n+":":n+":")+(r.toString().length<2?"0"+r:r)+":"+(o.toString().length<2?"0"+o:o)},d=function(t){var e=n.createElement("audio");return!(!e.canPlayType||!e.canPlayType("audio/"+t.split(".").pop().toLowerCase()+";").replace(/no/,""))};t.fn.audioPlayer=function(e){var e=t.extend({classPrefix:"audioplayer",strPlay:"Play",strPause:"Pause",strVolume:"Volume"},e),n={},i={playPause:"playpause",playing:"playing",stopped:"stopped",time:"time",timeCurrent:"time-current",timeDuration:"time-duration",bar:"bar",barLoaded:"bar-loaded",barPlayed:"bar-played",volume:"volume",volumeButton:"volume-button",volumeAdjust:"volume-adjust",noVolume:"novolume",muted:"muted",mini:"mini"};for(var s in i)n[s]=e.classPrefix+"-"+i[s];return this.each((function(){if("audio"!=t(this).prop("tagName").toLowerCase())return!1;var i=t(this),s=i.attr("src"),c,c=""===(c=i.get(0).getAttribute("autoplay"))||"autoplay"===c,h,h=""===(h=i.get(0).getAttribute("loop"))||"loop"===h,p=!1;void 0===s?i.find("source").each((function(){if(void 0!==(s=t(this).attr("src"))&&d(s))return p=!0,!1})):d(s)&&(p=!0);var f=t('<div class="'+e.classPrefix+'">'+(p?t("<div>").append(i.eq(0).clone()).html():'<embed src="'+s+'" width="0" height="0" volume="100" autostart="'+c.toString()+'" loop="'+h.toString()+'" />')+'<div class="'+n.playPause+'" title="'+e.strPlay+'"><a href="#">'+e.strPlay+"</a></div></div>"),m,m=(m=p?f.find("audio"):f.find("embed")).get(0);if(p){f.find("audio").css({width:0,height:0,visibility:"hidden"}),f.append('<div class="'+n.time+" "+n.timeCurrent+'"></div><div class="'+n.bar+'"><div class="'+n.barLoaded+'"></div><div class="'+n.barPlayed+'"></div></div><div class="'+n.time+" "+n.timeDuration+'"></div><div class="'+n.volume+'"><div class="'+n.volumeButton+'" title="'+e.strVolume+'"><a href="#">'+e.strVolume+'</a></div><div class="'+n.volumeAdjust+'"><div><div></div></div></div></div>');var v=f.find("."+n.bar),g=f.find("."+n.barPlayed),y=f.find("."+n.barLoaded),w=f.find("."+n.timeCurrent),b=f.find("."+n.timeDuration),_=f.find("."+n.volumeButton),C=f.find("."+n.volumeAdjust+" > div"),$=0,k=function(t){theRealEvent=r?t.originalEvent.touches[0]:t,m.currentTime=Math.round(m.duration*(theRealEvent.pageX-v.offset().left)/v.width())},x=function(t){theRealEvent=r?t.originalEvent.touches[0]:t,m.volume=Math.abs((theRealEvent.pageY-(C.offset().top+C.height()))/C.height())},T=function(){var t=setInterval((function(){if(m.buffered.length<1)return!0;y.width(m.buffered.end(0)/m.duration*100+"%"),Math.floor(m.buffered.end(0))>=Math.floor(m.duration)&&clearInterval(t)}),100)},S=m.volume,P=m.volume=.111;Math.round(1e3*m.volume)/1e3==P?m.volume=S:f.addClass(n.noVolume),b.html("…"),w.html(u(0)),m.addEventListener("loadeddata",(function(){T(),b.html(t.isNumeric(m.duration)?u(m.duration):"…"),C.find("div").height(100*m.volume+"%"),$=m.volume})),m.addEventListener("timeupdate",(function(){w.html(u(m.currentTime)),g.width(m.currentTime/m.duration*100+"%")})),m.addEventListener("volumechange",(function(){C.find("div").height(100*m.volume+"%"),m.volume>0&&f.hasClass(n.muted)&&f.removeClass(n.muted),m.volume<=0&&!f.hasClass(n.muted)&&f.addClass(n.muted)})),m.addEventListener("ended",(function(){f.removeClass(n.playing).addClass(n.stopped)})),v.on(o,(function(t){k(t),v.on(a,(function(t){k(t)}))})).on(l,(function(){v.unbind(a)})),_.on("click",(function(){return f.hasClass(n.muted)?(f.removeClass(n.muted),m.volume=$):(f.addClass(n.muted),$=m.volume,m.volume=0),!1})),C.on(o,(function(t){x(t),C.on(a,(function(t){x(t)}))})).on(l,(function(){C.unbind(a)}))}else f.addClass(n.mini);f.addClass(c?n.playing:n.stopped),f.find("."+n.playPause).on("click",(function(){return f.hasClass(n.playing)?(t(this).attr("title",e.strPlay).find("a").html(e.strPlay),f.removeClass(n.playing).addClass(n.stopped),p?m.pause():m.Stop()):(t(this).attr("title",e.strPause).find("a").html(e.strPause),f.addClass(n.playing).removeClass(n.stopped),p?m.play():m.Play()),!1})),i.replaceWith(f)})),this}}(jQuery,window,document),function(){var t,e,n,i,r,o,a,s,l,u,d,c,h,p,f,m,v,g,y,w,b,_,C,$,k,x,T,S,P,I,E,L,N,O,A,z,M,q,j,R,F,W,V,H,Z,D,B,U,X,Y=[].slice,G={}.hasOwnProperty,Q=function(t,e){function n(){this.constructor=t}for(var i in e)G.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},K=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};for(b={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},P=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},E=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,w=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==E&&(E=function(t){return setTimeout(t,50)},w=function(t){return clearTimeout(t)}),N=function(t){var e,n;return e=P(),(n=function(){var i;return(i=P()-e)>=33?(e=P(),t(i,(function(){return E(n)}))):setTimeout(n,33-i)})()},L=function(t,e){var n,i,r;return r=t,i=e,n=3<=arguments.length?Y.call(arguments,2):[],"function"==typeof r[i]?r[i].apply(r,n):r[i]},_=function(t){var e,n,i,r,o,a,s;for(n=t,a=0,s=(r=2<=arguments.length?Y.call(arguments,1):[]).length;s>a;a++)if(i=r[a])for(e in i)G.call(i,e)&&(o=i[e],null!=n[e]&&"object"==typeof n[e]&&null!=o&&"object"==typeof o?_(n[e],o):n[e]=o);return n},v=function(t){var e,n,i,r,o;for(n=e=0,r=0,o=t.length;o>r;r++)i=t[r],n+=Math.abs(i),e++;return n/e},$=function(t,e){var n,i,r;if(null==t&&(t="options"),null==e&&(e=!0),r=document.querySelector("[data-pace-"+t+"]")){if(n=r.getAttribute("data-pace-"+t),!e)return n;try{return JSON.parse(n)}catch(t){return i=t,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",i):void 0}}},a=function(){function t(){}return t.prototype.on=function(t,e,n,i){var r;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(r=this.bindings)[t]&&(r[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})},t.prototype.once=function(t,e,n){return this.on(t,e,n,!0)},t.prototype.off=function(t,e){var n,i,r;if(null!=(null!=(i=this.bindings)?i[t]:void 0)){if(null==e)return delete this.bindings[t];for(n=0,r=[];n<this.bindings[t].length;)r.push(this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):n++);return r}},t.prototype.trigger=function(t){var e,n,i,r,o,a,s,l,u;if(i=t,e=2<=arguments.length?Y.call(arguments,1):[],null!=(s=this.bindings)?s[i]:void 0){for(o=0,u=[];o<this.bindings[i].length;)r=(l=this.bindings[i][o]).handler,n=l.ctx,a=l.once,r.apply(null!=n?n:this,e),u.push(a?this.bindings[i].splice(o,1):o++);return u}},t}(),u=window.Pace||{},window.Pace=u,_(u,a.prototype),I=u.options=_({},b,window.paceOptions,$()),V=0,Z=(B=["ajax","document","eventLag","elements"]).length;Z>V;V++)M=B[V],!0===I[M]&&(I[M]=b[M]);l=function(t){function e(){return U=e.__super__.constructor.apply(this,arguments)}return Q(e,t),e}(Error),e=function(){function t(){this.progress=0}return t.prototype.getElement=function(){var t;if(null==this.el){if(!(t=document.querySelector(I.target)))throw new l;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=t.firstChild?t.insertBefore(this.el,t.firstChild):t.appendChild(this.el)}return this.el},t.prototype.finish=function(){var t;return(t=this.getElement()).className=t.className.replace("pace-active",""),t.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},t.prototype.update=function(t){return this.progress=t,this.render()},t.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(t){l=t}return this.el=void 0},t.prototype.render=function(){var t,e,n,i,r,o,a;if(null==document.querySelector(I.target))return!1;for(t=this.getElement(),i="translate3d("+this.progress+"%, 0, 0)",r=0,o=(a=["webkitTransform","msTransform","transform"]).length;o>r;r++)e=a[r],t.children[0].style[e]=i;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(t.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?n="99":(n=this.progress<10?"0":"",n+=0|this.progress),t.children[0].setAttribute("data-progress",""+n)),this.lastRenderedProgress=this.progress},t.prototype.done=function(){return this.progress>=100},t}(),s=function(){function t(){this.bindings={}}return t.prototype.trigger=function(t,e){var n,i,r,o,a;if(null!=this.bindings[t]){for(a=[],i=0,r=(o=this.bindings[t]).length;r>i;i++)n=o[i],a.push(n.call(this,e));return a}},t.prototype.on=function(t,e){var n;return null==(n=this.bindings)[t]&&(n[t]=[]),this.bindings[t].push(e)},t}(),W=window.XMLHttpRequest,F=window.XDomainRequest,R=window.WebSocket,C=function(t,e){var n,i,r,o;for(i in o=[],e.prototype)try{r=e.prototype[i],o.push(null==t[i]&&"function"!=typeof r?t[i]=r:void 0)}catch(t){n=t}return o},T=[],u.ignore=function(t){var e,n,i;return n=t,e=2<=arguments.length?Y.call(arguments,1):[],T.unshift("ignore"),i=n.apply(null,e),T.shift(),i},u.track=function(t){var e,n,i;return n=t,e=2<=arguments.length?Y.call(arguments,1):[],T.unshift("track"),i=n.apply(null,e),T.shift(),i},z=function(t){var e;if(null==t&&(t="GET"),"track"===T[0])return"force";if(!T.length&&I.ajax){if("socket"===t&&I.ajax.trackWebSockets)return!0;if(e=t.toUpperCase(),K.call(I.ajax.trackMethods,e)>=0)return!0}return!1},d=function(t){function e(){var t,n=this;e.__super__.constructor.apply(this,arguments),t=function(t){var e;return e=t.open,t.open=function(i,r){return z(i)&&n.trigger("request",{type:i,url:r,request:t}),e.apply(t,arguments)}},window.XMLHttpRequest=function(e){var n;return n=new W(e),t(n),n};try{C(window.XMLHttpRequest,W)}catch(t){}if(null!=F){window.XDomainRequest=function(){var e;return e=new F,t(e),e};try{C(window.XDomainRequest,F)}catch(t){}}if(null!=R&&I.ajax.trackWebSockets){window.WebSocket=function(t,e){var i;return i=null!=e?new R(t,e):new R(t),z("socket")&&n.trigger("request",{type:"socket",url:t,protocols:e,request:i}),i};try{C(window.WebSocket,R)}catch(t){}}}return Q(e,t),e}(s),H=null,A=function(t){var e,n,i,r;for(n=0,i=(r=I.ajax.ignoreURLs).length;i>n;n++)if("string"==typeof(e=r[n])){if(-1!==t.indexOf(e))return!0}else if(e.test(t))return!0;return!1},(k=function(){return null==H&&(H=new d),H})().on("request",(function(e){var n,i,r,o,a;return o=e.type,r=e.request,a=e.url,A(a)?void 0:u.running||!1===I.restartOnRequestAfter&&"force"!==z(o)?void 0:(i=arguments,"boolean"==typeof(n=I.restartOnRequestAfter||0)&&(n=0),setTimeout((function(){var e,n,a,s,l,d;if(e="socket"===o?r.readyState<2:0<(s=r.readyState)&&4>s){for(u.restart(),d=[],n=0,a=(l=u.sources).length;a>n;n++){if((M=l[n])instanceof t){M.watch.apply(M,i);break}d.push(void 0)}return d}}),n))})),t=function(){function t(){var t=this;this.elements=[],k().on("request",(function(){return t.watch.apply(t,arguments)}))}return t.prototype.watch=function(t){var e,n,i,r;return i=t.type,e=t.request,r=t.url,A(r)?void 0:(n="socket"===i?new p(e):new f(e),this.elements.push(n))},t}(),f=function(){function t(t){var e,n,i,r,o,a,s=this;if(this.progress=0,null!=window.ProgressEvent)for(n=null,t.addEventListener("progress",(function(t){return s.progress=t.lengthComputable?100*t.loaded/t.total:s.progress+(100-s.progress)/2}),!1),i=0,r=(a=["load","abort","timeout","error"]).length;r>i;i++)e=a[i],t.addEventListener(e,(function(){return s.progress=100}),!1);else o=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?s.progress=100:3===t.readyState&&(s.progress=50),"function"==typeof o?o.apply(null,arguments):void 0}}return t}(),p=function(){function t(t){var e,n,i,r,o=this;for(this.progress=0,n=0,i=(r=["error","open"]).length;i>n;n++)e=r[n],t.addEventListener(e,(function(){return o.progress=100}),!1)}return t}(),i=function(){function t(t){var e,n,i,o;for(null==t&&(t={}),this.elements=[],null==t.selectors&&(t.selectors=[]),n=0,i=(o=t.selectors).length;i>n;n++)e=o[n],this.elements.push(new r(e))}return t}(),r=function(){function t(t){this.selector=t,this.progress=0,this.check()}return t.prototype.check=function(){var t=this;return document.querySelector(this.selector)?this.done():setTimeout((function(){return t.check()}),I.elements.checkInterval)},t.prototype.done=function(){return this.progress=100},t}(),n=function(){function t(){var t,e,n=this;this.progress=null!=(e=this.states[document.readyState])?e:100,t=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof t?t.apply(null,arguments):void 0}}return t.prototype.states={loading:0,interactive:50,complete:100},t}(),o=function(){function t(){var t,e,n,i,r,o=this;this.progress=0,t=0,r=[],i=0,n=P(),e=setInterval((function(){var a;return a=P()-n-50,n=P(),r.push(a),r.length>I.eventLag.sampleCount&&r.shift(),t=v(r),++i>=I.eventLag.minSamples&&t<I.eventLag.lagThreshold?(o.progress=100,clearInterval(e)):o.progress=3/(t+3)*100}),50)}return t}(),h=function(){function t(t){this.source=t,this.last=this.sinceLastUpdate=0,this.rate=I.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=L(this.source,"progress"))}return t.prototype.tick=function(t,e){var n;return null==e&&(e=L(this.source,"progress")),e>=100&&(this.done=!0),e===this.last?this.sinceLastUpdate+=t:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/I.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*t),n=1-Math.pow(this.progress/100,I.easeFactor),this.progress+=n*this.rate*t,this.progress=Math.min(this.lastProgress+I.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},t}(),q=null,O=null,g=null,j=null,m=null,y=null,u.running=!1,x=function(){return I.restartOnPushState?u.restart():void 0},null!=window.history.pushState&&(D=window.history.pushState,window.history.pushState=function(){return x(),D.apply(window.history,arguments)}),null!=window.history.replaceState&&(X=window.history.replaceState,window.history.replaceState=function(){return x(),X.apply(window.history,arguments)}),c={ajax:t,elements:i,document:n,eventLag:o},(S=function(){var t,n,i,r,o,a,s,l;for(u.sources=q=[],n=0,r=(a=["ajax","elements","document","eventLag"]).length;r>n;n++)t=a[n],!1!==I[t]&&q.push(new c[t](I[t]));for(i=0,o=(l=null!=(s=I.extraSources)?s:[]).length;o>i;i++)M=l[i],q.push(new M(I));return u.bar=g=new e,O=[],j=new h})(),u.stop=function(){return u.trigger("stop"),u.running=!1,g.destroy(),y=!0,null!=m&&("function"==typeof w&&w(m),m=null),S()},u.restart=function(){return u.trigger("restart"),u.stop(),u.start()},u.go=function(){var t;return u.running=!0,g.render(),t=P(),y=!1,m=N((function(e,n){var i,r,o,a,s,l,d,c,p,f,m,v,w,b,_,C;for(c=100-g.progress,r=m=0,o=!0,l=v=0,b=q.length;b>v;l=++v)for(M=q[l],f=null!=O[l]?O[l]:O[l]=[],d=w=0,_=(s=null!=(C=M.elements)?C:[M]).length;_>w;d=++w)a=s[d],o&=(p=null!=f[d]?f[d]:f[d]=new h(a)).done,p.done||(r++,m+=p.tick(e));return i=m/r,g.update(j.tick(e,i)),g.done()||o||y?(g.update(100),u.trigger("done"),setTimeout((function(){return g.finish(),u.running=!1,u.trigger("hide")}),Math.max(I.ghostTime,Math.max(I.minTime-(P()-t),0)))):n()}))},u.start=function(t){_(I,t),u.running=!0;try{g.render()}catch(t){l=t}return document.querySelector(".pace")?(u.trigger("start"),u.go()):setTimeout(u.start,50)},"function"==typeof define&&define.amd?define((function(){return u})):"object"==typeof exports?module.exports=u:I.startOnPageLoad&&u.start()}.call(this),$((function(){function t(){var t=this,e=t.parentNode,n=t.nextSibling;e.removeChild(t),setTimeout((function(){e.insertBefore(t,n)}),0)}var e=$("#config_theme"),n=$(".pace"),i=$(".slide_nav ul.theme"),r=$(".menu_btn"),o=$("h1.site_title").text(),a=$(".slide_nav,.slide_overlay"),s=$(".slide_overlay"),l=$("figure.theme"),u=$("main.theme"),d=$("aside.theme");socialContainer=$(".social_container"),navPath="1px"==e.css("padding-top"),featureSuperFlex="1px"==e.css("padding-bottom"),featureVideo="2px"==e.css("padding-bottom"),featureVelvet="3px"==e.css("padding-bottom"),loadResTools="1px"==e.css("padding-right"),disableParents="1px"==e.css("padding-left"),animLoad="1px"==e.css("margin-right"),-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&$("body").addClass("safari"),animLoad||$(".desk_links,.meun_ui").addClass("ncd-static");var c=window.navigator.userAgent,h=!!c.match(/iPad/i)||!!c.match(/iPhone/i),p=!!c.match(/WebKit/i),f=h&&p&&!c.match(/CriOS/i),m="localhost"===location.hostname||"127.0.0.1"===location.hostname;featureVideo&&($("iframe.feature").prependTo("figure.theme"),!h||m?($("video.feature").prependTo("figure.theme"),$("video.feature").addClass("marvel_parallax")):$("video.feature").remove(),l.find("video").length&&(l.find("video")[0].play(),setTimeout((function(){$("body").addClass("pace-done").children(".pace").remove()}),300),Pace.stop(),$('<div class="pace  pace-inactive">\t\t\t\t\t<div class="pace-progress" data-progress-text="100%" data-progress="99" style="transform: translate3d(100%, 0px, 0px);">\t\t\t\t\t\t<div class="pace-progress-inner"></div>\t\t\t\t</div>\t\t\t\t<div class="pace-activity"></div></div>').appendTo(".desk_links"))),featureVelvet&&($(".vzoom-img-in").first().prependTo("figure.theme"),l.find(".vzoom-img-in img").addClass("marvel_parallax"),$("figure.theme").addClass("velvet_loaded")),n.appendTo(".desk_links"),featureVelvet||l.has("iframe").fitVids().addClass("events"),l.has("video").addClass("events"),l.has(".vzoom-img-in").addClass("events"),loadResTools&&(u.find("audio").length&&$("audio").audioPlayer(),u.find("iframe").length&&u.fitVids());var v=$("figure.theme .marvel_parallax").first();if("2"!=v.css("z-index")){var g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},y=-1;function w(){if(y==window.pageYOffset)return g(w),!1;if(y=window.pageYOffset,$(window).scrollTop()<700){var t=window.pageYOffset;v.css("transform","translateY("+(0+.08*t)+"px)")}g(w)}w()}i.find("li").has("ul").children("a").each((function(t){$(this).attr({"data-nav":"parent","data-navi":t++})})),$(".current").parent().parent().prev().find("i").parent().addClass("currentParent"),a.find("i").parent().clone().appendTo(".desk_links > ul.theme"),$(".desk_links > ul.theme a").each((function(){$(this).wrap("<li>")})),$("nav.desk_links").find('a[data-nav="parent"]').attr("href",""),$('.desk_links a[data-nav="parent"]').on("click",(function(t){var e=$(this).attr("data-navi");a.addClass("open"),$("body").addClass("slideOutOpen"),t.preventDefault(),i.find("ul").removeClass("opened").hide(),i.find("a").removeClass("opened"),i.find('a[data-navi="'+e+'"]').addClass("opened").next("ul").addClass("opened").delay("400").slideDown(300)})),$("#slide_nav_title").append(document.createTextNode(o)),$("a#rw_email_contact").clone().prependTo(".anchor"),$("a.social-import").each((function(){$(this).wrap("<li>").parent().appendTo(socialContainer)})),$(".vert .anchor").clone().appendTo(".slide_nav"),"5"==$("header.theme nav.vert").css("z-index")&&$("header.theme nav.vert").each((function(){$(this).clone().prependTo($(this).parent().parent())})),s.on("click",(function(){a.removeClass("open"),$("body").removeClass("slideOutOpen")})),r.on("click",(function(t){a.hasClass("open")?(a.removeClass("open"),$("body").removeClass("slideOutOpen"),i.find("ul").removeClass("opened").slideUp(250),i.find("li").removeClass("current_dot"),i.find("a").removeClass("opened"),$("nav.slide_nav").removeClass("via_menuBtn")):(a.addClass("open").find(".opened").removeClass("opened"),$("body").addClass("slideOutOpen"),i.find("a").hasClass("opened")||$("nav.slide_nav").addClass("via_menuBtn"))})),$('a[rel="external"]').attr("target","_blank"),$("#site_logo").find("img").length?$("#site_logo").addClass("hasImg"):$("#site_logo").addClass("hide"),d.find("h2#aside:empty").remove(),u.find(".album-title").text().trim().length||u.find(".album-title").remove(),u.find(".album-description").text().trim().length||u.find(".album-description").remove(),$(".breadcrumb li").children().length>2&&$(".breadcrumb li").first().hide(),$(".blog-entry + .blog-entry").prepend("<hr>"),$("#blog-categories").prepend('<span class="sub-title"><i class="social-bars"></i></span><br>'),$("#blog-archives").prepend('<span class="sub-title"><i class="social-cal"></i></span><br>'),$(".blog-tag-cloud").prepend('<span class="sub-title"><i class="social-tag"></i></span><br>'),$("#blog-rss-feeds").prepend('<span class="sub-title"><i class="social-rss"></i></span><br>'),$(".filesharing-item + .filesharing-item").before("<hr>"),navPath&&i.find(".current").parents("ul").addClass("opened").show(),i.find("li").has(">ul").children("a").on("click",(function(){n&&0==disableParents&&(window.location=$(this).attr("href"));var t=$(this).next(),e=$(this),n=t.hasClass("opened"),r=t.is(":visible")&&t.parent().parent("ul").prev().is("div"),o=t.parents("ul").is(":visible")&&!t.parent().parent("ul").prev().is("div"),a,s=function(){i.find("ul ul").removeClass("opened").slideUp(250),i.find("li").removeClass("current_dot"),i.find("a").removeClass("opened")};if(closeThisSub=function(){t.slideUp(250).removeClass("opened").prev().removeClass("opened").parent().removeClass("current_dot")},openThisSub=function(){t.slideDown(250).addClass("opened").prev().addClass("opened").parent().addClass("current_dot")},o?function(){e.parent().parent().not("ul.opened").find("ul").removeClass("opened").slideUp(250)}():s(),!n||0!=disableParents)return n?(closeThisSub(),!1):(r?closeThisSub():openThisSub(),!1);window.location=$(this).attr("href")})),$(".album-wrapper").addClass("cf").find("img").each((function(){var t=$(this).attr("src");$(this).closest(".thumbnail-wrap").attr("style",""),$(this).unwrap().unwrap().attr("data-action","zoom").removeAttr("height").removeAttr("width").attr("src",t.replace("thumb","full"))})),$(".thumbnail-wrap").on("click",(function(){$(".thumbnail-wrap").not(this).addClass("hide"),$(this).removeClass("hide")})),$(window).on("load",(function(){var t=$(".slide_nav header").outerHeight(),e=$(".slide_nav .anchor").outerHeight();$(".slide_nav .scroll").css({bottom:e,top:t}),Macy.init({container:".album-wrapper",trueOrder:!1,waitForImages:!1,margin:30,columns:4,breakAt:{1200:3,940:2}})}))}));